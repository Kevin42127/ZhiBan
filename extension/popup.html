<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>智伴 ZhiBan</title>
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>智伴 ZhiBan</h1>
      <button id="clearBtn" class="clear-btn" title="清空對話">
        <span class="material-icons">delete_outline</span>
      </button>
    </div>

    <div class="welcome-page" id="welcomePage" style="display: none;">
      <div class="welcome-content">
        <div class="welcome-icon">
          <span class="material-icons">smart_toy</span>
        </div>
        <h2>歡迎使用智伴</h2>
        <p class="welcome-subtitle">你的智能陪伴聊天助理</p>
        
        <div class="welcome-features">
          <div class="feature-item">
            <span class="material-icons">chat</span>
            <div>
              <h3>即時對話</h3>
              <p>與 AI 進行自然流暢的對話</p>
            </div>
          </div>
          <div class="feature-item">
            <span class="material-icons">auto_fix_high</span>
            <div>
              <h3>智能回應</h3>
              <p>獲得專業且友善的建議與回答</p>
            </div>
          </div>
          <div class="feature-item">
            <span class="material-icons">history</span>
            <div>
              <h3>對話記錄</h3>
              <p>自動保存你的對話歷史</p>
            </div>
          </div>
        </div>

        <div class="welcome-tips">
          <p><strong>使用提示：</strong></p>
          <ul>
            <li>在輸入框中輸入問題，按 Enter 發送</li>
            <li>使用 Shift+Enter 可以換行</li>
            <li>點擊右上角按鈕可以清空對話</li>
          </ul>
        </div>

        <button id="startChatBtn" class="start-chat-btn">
          <span>開始使用</span>
          <span class="material-icons">arrow_forward</span>
        </button>
      </div>
    </div>

    <div class="chat-container" id="chatContainer">
      <div class="messages" id="messages"></div>
      <div class="loading" id="loading" style="display: none;">
        <div class="loading-avatar">
          <span class="material-icons">smart_toy</span>
        </div>
        <span class="material-icons loading-spinner">sync</span>
        <span>AI 正在思考...</span>
      </div>
    </div>

    <div class="input-container">
      <div class="input-wrapper">
        <textarea 
          id="messageInput" 
          placeholder="問智伴..."
          autocomplete="off"
          rows="1"
        ></textarea>
      </div>
      <button id="sendBtn" class="send-btn">
        <span class="material-icons">send</span>
      </button>
    </div>
  </div>

  <div class="confirm-dialog-overlay" id="confirmDialogOverlay" style="display: none;">
    <div class="confirm-dialog">
      <div class="confirm-dialog-icon">
        <span class="material-icons">warning</span>
      </div>
      <div class="confirm-dialog-title" id="confirmDialogTitle">確認刪除</div>
      <div class="confirm-dialog-message" id="confirmDialogMessage">確定要執行此操作嗎？</div>
      <div class="confirm-dialog-buttons">
        <button class="confirm-dialog-btn confirm-dialog-btn-cancel" id="confirmDialogCancel">
          <span class="material-icons">close</span>
          <span>取消</span>
        </button>
        <button class="confirm-dialog-btn confirm-dialog-btn-confirm" id="confirmDialogConfirm">
          <span class="material-icons">check</span>
          <span>確認</span>
        </button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>

